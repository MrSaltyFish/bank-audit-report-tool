{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 18, "column": 0}, "map": {"version":3,"sources":["file:///home/fishy/Data/Development/git-self-projects/bank-audit-report-tool/src/app/user/page.tsx"],"sourcesContent":["import { cookies } from \"next/headers\";\nimport { notFound } from \"next/navigation\";\n\ntype Bank = {\n\tid: string;\n\tbankName: string;\n\tslug: string;\n};\n\ntype UserData = {\n\tuserId: string;\n\tbanks: Bank[];\n};\n\nexport default async function UserPage() {\n\ttry {\n\t\tconst cookieStore = await cookies(); // âœ… await it\n\t\tconst token = cookieStore.get(\"auth-token\")?.value;\n\t\tif (!token) return notFound();\n\n\t\tconst res = await fetch(`${process.env.NEXT_PUBLIC_SERVER_URL}/api/user`, {\n\t\t\theaders: {\n\t\t\t\tcookie: `auth-token=${token}`,\n\t\t\t},\n\t\t\tcache: \"no-store\",\n\t\t});\n\n\t\tif (!res.ok) return notFound();\n\n\t\tconst data: UserData = await res.json();\n\t\tconsole.log(data);\n\n\t\treturn (\n\t\t\t<div className=\"p-6\">\n\t\t\t\t<h1 className=\"text-2xl font-bold mb-4\">User Banks</h1>\n\n\t\t\t\t{data.banks.length === 0 && <p>No banks found.</p>}\n\n\t\t\t\t<ul className=\"space-y-2\">\n\t\t\t\t\t{data.banks.map((bank) => (\n\t\t\t\t\t\t<li key={bank.id} className=\"border rounded p-3 shadow bg-white\">\n\t\t\t\t\t\t\t{bank.bankName} (Slug: {bank.slug})\n\t\t\t\t\t\t</li>\n\t\t\t\t\t))}\n\t\t\t\t</ul>\n\t\t\t</div>\n\t\t);\n\t} catch (err) {\n\t\tconsole.error(\"Failed to load user banks:\", err);\n\t\treturn notFound();\n\t}\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;;;;AAae,eAAe;IAC7B,IAAI;QACH,MAAM,cAAc,MAAM,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD,KAAK,aAAa;QAClD,MAAM,QAAQ,YAAY,GAAG,CAAC,eAAe;QAC7C,IAAI,CAAC,OAAO,OAAO,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD;QAE1B,MAAM,MAAM,MAAM,MAAM,6DAAsC,SAAS,CAAC,EAAE;YACzE,SAAS;gBACR,QAAQ,CAAC,WAAW,EAAE,OAAO;YAC9B;YACA,OAAO;QACR;QAEA,IAAI,CAAC,IAAI,EAAE,EAAE,OAAO,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD;QAE3B,MAAM,OAAiB,MAAM,IAAI,IAAI;QACrC,QAAQ,GAAG,CAAC;QAEZ,qBACC,8OAAC;YAAI,WAAU;;8BACd,8OAAC;oBAAG,WAAU;8BAA0B;;;;;;gBAEvC,KAAK,KAAK,CAAC,MAAM,KAAK,mBAAK,8OAAC;8BAAE;;;;;;8BAE/B,8OAAC;oBAAG,WAAU;8BACZ,KAAK,KAAK,CAAC,GAAG,CAAC,CAAC,qBAChB,8OAAC;4BAAiB,WAAU;;gCAC1B,KAAK,QAAQ;gCAAC;gCAAS,KAAK,IAAI;gCAAC;;2BAD1B,KAAK,EAAE;;;;;;;;;;;;;;;;IAOrB,EAAE,OAAO,KAAK;QACb,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,OAAO,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD;IACf;AACD","debugId":null}}]
}